# 32 - 设备节点需求

> **版本**: v1.0
> **最后更新**: 2026-01-29
> **依赖文档**: 04-Gateway基础架构需求
> **后续文档**: 33-模型回退与认证轮换需求

---

## 1. 需求概述

### 1.1 目标描述

实现**移动设备作为能力节点**，提供相机、屏幕录制、位置等能力。

**核心目标:**
- **设备注册**: 设备向 Gateway 注册
- **能力发现**: 列出设备提供的能力
- **远程调用**: 通过 Gateway 调用设备能力

---

## 2. 核心概念

### 2.1 设备能力

| 能力 | 说明 |
|------|------|
| `camera` | 拍照 |
| `screen` | 屏幕截图/录制 |
| `location` | 获取 GPS 位置 |
| `microphone` | 录音 |

### 2.2 节点协议

**注册**:

```typescript
// 设备 → Gateway
{
  method: 'nodes.register',
  params: {
    nodeId: 'iphone-12',
    capabilities: ['camera', 'screen', 'location'],
    platform: 'ios'
  }
}
```

**调用能力**:

```typescript
// Gateway → 设备
{
  method: 'nodes.invoke',
  params: {
    nodeId: 'iphone-12',
    capability: 'camera',
    params: { mode: 'photo' }
  }
}
```

---

## 3. Nodes 工具

```typescript
{
  name: 'nodes',
  description: 'Manage device nodes',
  parameters: {
    action: 'list' | 'screenshot' | 'location';
    nodeId?: string;
  }
}
```

---

**文档完成** ✅
